# config/packages/cache.yaml
framework:
    cache:
        # Redis connection configured in .env
        # REDIS_URL=redis://redis:6379
        
        # Application cache (Doctrine metadata, queries, results)
        app: cache.adapter.redis
        default_redis_provider: 'redis://redis:6379'

        # System cache (Validation, Serializer, Annotations)
        system: cache.adapter.redis

        pools:
            # Dedicated pool for API rate limiting
            rate_limiter.cache:
                adapter: cache.adapter.redis
                provider: 'redis://redis:6379'
            
            # Dedicated pool for Doctrine result cache
            doctrine.result_cache_pool:
                adapter: cache.adapter.redis
                provider: 'redis://redis:6379'

            # Dedicated pool for Doctrine system cache (metadata/query)
            doctrine.system_cache_pool:
                adapter: cache.adapter.redis
                provider: 'redis://redis:6379'
